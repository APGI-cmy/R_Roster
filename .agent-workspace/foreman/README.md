# Foreman Agent Workspace

**Living Agent System**: v6.2.0  
**Agent Class**: Supervisor  
**Agent ID**: foreman

---

## Purpose

This directory contains the persistent state and memory for the Foreman (FM) agent operating within the Living Agent System v6.2.0 framework.

---

## Directory Structure

```
.agent-workspace/foreman/
├── memory/                      # Session memories (≤5 active)
│   ├── .archive/               # Archived sessions (>5 sessions old)
│   ├── session-001-20260212.md # Session memory file
│   ├── session-002-20260213.md
│   └── ...
├── personal/                    # Personal learning (not rotated)
│   ├── lessons-learned.md      # Cumulative lessons
│   └── patterns.md             # Recognized patterns
├── escalation-inbox/           # Pending escalations
│   └── blocker-YYYYMMDD.md    # Escalation documents
├── working-contract.md         # Ephemeral (current session only)
└── environment-health.json     # Ephemeral (current session only)
```

---

## Session Memory Protocol

### Session Memory Files

**Format**: `session-NNN-YYYYMMDD.md`
- **NNN**: Zero-padded session number (001, 002, etc.)
- **YYYYMMDD**: Session date

**Contents**:
- Agent identity and session context
- Task description
- Actions taken and decisions made
- Evidence collection status
- Ripple status and governance gaps
- Outcome and lessons learned

**Rotation Policy**:
- Maximum 5 active sessions in `memory/`
- Older sessions moved to `memory/.archive/`
- Rotation occurs automatically during session closure

### Creating Session Memory

Run session closure protocol:
```bash
.github/scripts/session-closure.sh foreman
```

This creates a template session memory file that must be filled in with session details.

---

## Personal Learning Files

### lessons-learned.md

Cumulative file that **never rotates**. Add lessons from each session to build pattern recognition capability.

**Format**:
```markdown
## Session YYYYMMDD

### Lesson: [Title]
- Context: [when this applies]
- Pattern: [what to watch for]
- Action: [what to do]
```

### patterns.md

Tracks recurring patterns observed across sessions for proactive decision-making.

**Format**:
```markdown
## Pattern: [Name]
- Observed: YYYY-MM-DD (Session NNN)
- Context: [when this occurs]
- Response: [how to handle]
```

---

## Escalation Management

### escalation-inbox/

Contains escalations requiring CS2 attention.

**Format**: `blocker-YYYYMMDD.md` or `governance-gap-YYYYMMDD.md`

**Types**:
- **BLOCKER**: Issues preventing task completion
- **GOVERNANCE_GAP**: Missing or ambiguous governance
- **AUTHORITY_BOUNDARY**: Authority conflict or unclear scope

**Structure**:
```markdown
# Escalation: [Title]

## Type
BLOCKER | GOVERNANCE_GAP | AUTHORITY_BOUNDARY

## Description
[What requires CS2 attention]

## Context
[Session and task context]

## Recommendation
[Proposed solution]

---
Created: Session NNN | Date: YYYY-MM-DD
```

---

## Ephemeral Files

These files are generated during wake-up and removed during session closure:

### working-contract.md

Generated by: `.github/scripts/wake-up-protocol.sh`

**Purpose**: Current session contract and context
- Agent identity and authority boundaries
- Active governance canon
- Session responsibilities
- Environment health summary

**Lifecycle**: Created at wake-up, removed at closure

### environment-health.json

Generated by: `.github/scripts/wake-up-protocol.sh`

**Purpose**: Machine-readable environment state
- Workspace status
- Memory count
- Governance manifest validity
- Protocol version

**Lifecycle**: Created at wake-up, removed at closure

---

## Wake-Up Protocol

Run before starting work:
```bash
.github/scripts/wake-up-protocol.sh foreman
```

**Actions**:
1. Load agent identity from contract
2. Load last 5 session memories
3. Check governance state (TIER_0_CANON_MANIFEST)
4. Generate working contract
5. Log environment health
6. Check for pending escalations

**Output**:
- `working-contract.md` (ephemeral)
- `environment-health.json` (ephemeral)
- Console report of readiness status

---

## Session Closure Protocol

Run after completing work:
```bash
.github/scripts/session-closure.sh foreman
```

**Actions**:
1. Create new session memory template
2. Rotate old memories (if >5 active)
3. Check for pending escalations
4. Clean ephemeral files
5. Provide next-steps checklist

**Output**:
- New session memory file in `memory/`
- Archived sessions in `memory/.archive/` (if rotation needed)

**Manual Steps Required**:
1. Fill in session memory template
2. Update `personal/lessons-learned.md` if applicable
3. Update `personal/patterns.md` if new patterns discovered
4. Commit all memory files to git

---

## Governance Compliance

Per Living Agent System v6.2.0:
- **REQ-ER-003**: Session memories ≤5 active, archived beyond
- **REQ-ER-004**: Personal learning files cumulative (never rotate)
- **REQ-EO-005**: Session closure mandatory after work completion
- **REQ-AS-005**: Wake-up protocol mandatory before work start
- **REQ-AS-002**: Escalations for CS2-level issues

---

## .gitignore Configuration

**Excluded** (ephemeral):
- `working-contract.md`
- `environment-health.json`

**Included** (persistent):
- `memory/session-*.md`
- `memory/.archive/session-*.md`
- `personal/*.md`
- `escalation-inbox/*.md`

---

## Authority & References

- **LIVING_AGENT_SYSTEM.md** - v6.2.0 framework
- **FOREMAN_AUTHORITY_AND_SUPERVISION_MODEL.md** - FM authority
- **FOREMAN_MEMORY_PROTOCOL.md** - Memory management
- **BUILD_PHILOSOPHY.md** - One-Time Build Law
- **FM_ROLE_CANON.md** - Role definition

---

**Version**: 1.0.0  
**Created**: 2026-02-12  
**Agent**: Foreman (FM)  
**Living Agent System**: v6.2.0
